
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Constructing local-cluster orbits &#8212; libcasm-configuration 2.0a7 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="icon" sizes="32x32" type="image/png" href="../../_static/favicon-32x32.png?v=f9ece728" />
    <link rel="icon" sizes="16x16" type="image/png" href="../../_static/favicon-16x16.png?v=dad9ad5b" />
    <link rel="apple-touch-icon" sizes="180x180" type="image/png" href="../../_static/apple-touch-icon.png?v=16836a53" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=1d1c7082" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script src="../../_static/documentation_options.js?v=b07e39d7"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'usage/occ_events/construct_occevent_cluster_specs';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Reference (libcasm-configuration)" href="../../reference/libcasm/index.html" />
    <link rel="prev" title="Occupation event basics" href="construct_occevent.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/small_logo.svg" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="../../_static/small_logo_dark.svg" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">libcasm-configuration</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../installation.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../usage.html">
                        Usage
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../reference/libcasm/index.html">
                        Reference
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/prisms-center/CASMcode_configuration/" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/libcasm-configuration/" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-python fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../installation.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../usage.html">
                        Usage
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../reference/libcasm/index.html">
                        Reference
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/prisms-center/CASMcode_configuration/" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/libcasm-configuration/" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-python fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="occ_events.html">Occupation Events (libcasm.occ_events)</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="construct_occevent.html">Occupation event basics</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Constructing local-cluster orbits</a></li>
</ul>
</li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../usage.html" class="nav-link">Usage</a></li>
    
    
    <li class="breadcrumb-item"><a href="occ_events.html" class="nav-link">Occupation Events (libcasm.occ_events)</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Constructing...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="constructing-local-cluster-orbits">
<span id="id1"></span><h1>Constructing local-cluster orbits<a class="headerlink" href="#constructing-local-cluster-orbits" title="Link to this heading">#</a></h1>
<section id="construct-a-prototype-occevent">
<h2>Construct a prototype OccEvent<a class="headerlink" href="#construct-a-prototype-occevent" title="Link to this heading">#</a></h2>
<p>To generate local-cluster orbits, and from them local basis functions, one prototype <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> from the orbit of symmetrically equivalent <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> must be provided.</p>
<p>While any element of the orbit may be used, it is conventional to use the <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> in canonical form, which by convention in CASM is the orbit element that compares as greatest.</p>
<p>The canonical <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> can be obtained by <a class="reference internal" href="construct_occevent.html#orbits-of-occevent"><span class="std std-ref">constucting an orbit</span></a> and choosing the last element, or directly using <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.make_canonical_occevent.html#libcasm.occ_events.make_canonical_occevent" title="libcasm.occ_events.make_canonical_occevent"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_canonical_occevent()</span></code></a>:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">libcasm.occ_events</span> <span class="k">as</span> <span class="nn">occ_events</span>
<span class="kn">import</span> <span class="nn">libcasm.xtal</span> <span class="k">as</span> <span class="nn">xtal</span>

<span class="n">xtal_prim</span> <span class="o">=</span> <span class="n">xtal</span><span class="o">.</span><span class="n">Prim</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">occ_event</span> <span class="o">=</span> <span class="n">occ_events</span><span class="o">.</span><span class="n">OccEvent</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="n">canonical_occ_event</span> <span class="o">=</span> <span class="n">occ_events</span><span class="o">.</span><span class="n">make_canonical_occevent</span><span class="p">(</span>
    <span class="n">xtal_prim</span><span class="p">,</span> <span class="n">occ_event</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="enumerating-occevent">
<h2>Enumerating OccEvent<a class="headerlink" href="#enumerating-occevent" title="Link to this heading">#</a></h2>
<p>Symmetrically distinct OccEvent may be enumerated using the function <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.make_canonical_prim_periodic_occevents.html#libcasm.occ_events.make_canonical_prim_periodic_occevents" title="libcasm.occ_events.make_canonical_prim_periodic_occevents"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_canonical_prim_periodic_occevents()</span></code></a>. This method works by iterating over all possible <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> and removing invalid, unwanted, or symmetrically equivalent <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a>.</p>
<p>The iteration proceeds over:</p>
<ol class="arabic simple">
<li><p>Symmetrically distinct clusters of sites (outer-most loop)</p></li>
<li><p>Initial occupation values</p></li>
<li><p>Final occupation values</p></li>
<li><p>Permutations between the initial and final positions (inner-most loop)</p></li>
</ol>
<p>Built-in filters allow for selecting <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> by:</p>
<ul class="simple">
<li><p>Cluster size</p></li>
<li><p>Sublattices involved</p></li>
<li><p>Initial or final occupation</p></li>
<li><p>Atom type counts</p></li>
</ul>
<p>The default settings skip <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> which:</p>
<ul class="simple">
<li><p>Represent a sub-cluster <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> because
(i) a site is vacant before and after the event or (ii) any molecule
does not change sites, break up, or re-orient.</p></li>
<li><p>Have two atoms directly exchange sites. (Does not skip atom-vacancy
exchange.)</p></li>
</ul>
<p>Additionally, for <a class="reference external" href="https://prisms-center.github.io/CASMcode_pydocs/libcasm/xtal/2.0/reference/libcasm/_autosummary/libcasm.xtal.Prim.html#libcasm.xtal.Prim" title="(in libcasm-xtal v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Prim</span></code></a> with molecular occupants, <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> can be selected by:</p>
<ul class="simple">
<li><p>Molecule type counts</p></li>
<li><p>Orientation type counts</p></li>
<li><p>Whether or not molecules break apart</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Enumerated <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> represent symmetrically distinct trajectories of occupants, considering only the initial and final positions, and how the occupants permute amongst them, but not the complete transformation pathway. In real materials, there are some cases in which there may be multiple distinct pathways that are represented by the same <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a>. In this case, it is possible to include duplicate <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> with different names in a CASM project for input to kinetic Monte Carlo calculations.</p>
</div>
<p>The following example script demonstrates enumerating distinct <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a>, in an FCC Prim with “A” and “B” atoms and vacancies, including exchange on triplet sites, using the default filters:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">libcasm.clusterography</span> <span class="k">as</span> <span class="nn">clust</span>
<span class="kn">import</span> <span class="nn">libcasm.occ_events</span> <span class="k">as</span> <span class="nn">occ_events</span>
<span class="kn">import</span> <span class="nn">libcasm.sym_info</span> <span class="k">as</span> <span class="nn">sym_info</span>
<span class="kn">import</span> <span class="nn">libcasm.xtal</span> <span class="k">as</span> <span class="nn">xtal</span>
<span class="kn">import</span> <span class="nn">libcasm.xtal.prims</span> <span class="k">as</span> <span class="nn">xtal_prims</span>

<span class="n">r</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="c1"># ideal atom radius</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span> <span class="p">((</span><span class="mi">4</span><span class="o">*</span><span class="n">r</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span><span class="mf">2.</span><span class="p">)</span> <span class="c1"># conventional FCC lattice parameter</span>
<span class="n">tol</span> <span class="o">=</span> <span class="mf">1e-5</span>
<span class="n">xtal_prim</span> <span class="o">=</span> <span class="n">xtal_prims</span><span class="o">.</span><span class="n">FCC</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="n">r</span><span class="p">,</span> <span class="n">occ_dof</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;Va&quot;</span><span class="p">])</span>

<span class="c1"># The OccSystem provides index conversions</span>
<span class="n">system</span> <span class="o">=</span> <span class="n">occ_events</span><span class="o">.</span><span class="n">OccSystem</span><span class="p">(</span><span class="n">xtal_prim</span><span class="p">)</span>

<span class="c1"># The maximum site-to-site distance to allow in clusters,</span>
<span class="c1"># by number of sites in the cluster. The null cluster and</span>
<span class="c1"># point cluster values (elements 0 and 1) are arbitrary</span>
<span class="c1"># for periodic clusters.</span>
<span class="n">max_length</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mf">0.0</span><span class="p">,</span> <span class="c1"># null-cluster orbit</span>
    <span class="mf">0.0</span><span class="p">,</span> <span class="c1"># point-cluster orbits</span>
    <span class="n">a</span> <span class="o">+</span> <span class="n">tol</span><span class="p">,</span> <span class="c1"># pair-cluster orbits, including 2NN sites</span>
    <span class="n">a</span> <span class="o">+</span> <span class="n">tol</span><span class="p">,</span> <span class="c1"># triplet-cluster orbits, including 2NN sites</span>
<span class="p">]</span>

<span class="c1"># Custom generators is a list[clust.ClusterOrbitGenerator]</span>
<span class="c1"># that allows specifying custom clusters to include,</span>
<span class="c1"># independent of the max_length cutoff,</span>
<span class="c1"># and optionally also including subclusters</span>
<span class="n">custom_generators</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Construct ClusterSpecs, with generating group equal to</span>
<span class="c1"># the invariant group of prototype_occ_event</span>
    <span class="n">cluster_specs</span> <span class="o">=</span> <span class="n">clust</span><span class="o">.</span><span class="n">ClusterSpecs</span><span class="p">(</span>
    <span class="n">xtal_prim</span><span class="o">=</span><span class="n">xtal_prim</span><span class="p">,</span>
    <span class="n">generating_group</span><span class="o">=</span><span class="n">sym_info</span><span class="o">.</span><span class="n">make_factor_group</span><span class="p">(</span><span class="n">xtal_prim</span><span class="p">),</span>
    <span class="n">max_length</span><span class="o">=</span><span class="n">max_length</span><span class="p">,</span>
    <span class="n">custom_generators</span><span class="o">=</span><span class="n">custom_generators</span><span class="p">)</span>

<span class="n">orbits</span> <span class="o">=</span> <span class="n">cluster_specs</span><span class="o">.</span><span class="n">make_orbits</span><span class="p">()</span>
<span class="c1"># null, point, 1NN pair, 2NN pair, 1NN triplet, 2NN triplet</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">orbits</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span>

<span class="c1"># `occevent_counter_params` is a dict that sets filters</span>
<span class="c1"># See the `make_canonical_prim_periodic_occevents` documentation</span>
<span class="c1"># for the list of options (TODO)</span>
<span class="n">occevent_counter_params</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># `custom_occevents` is a list[occ_events.OccEvent]</span>
<span class="c1"># that allows specifying custom OccEvent to include,</span>
<span class="c1"># independent of the cluster_specs,</span>
<span class="c1"># and not subject to filtering,</span>
<span class="c1"># but still subject to removing duplicates</span>
<span class="n">custom_occevents</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">canonical_occevents</span> <span class="o">=</span> <span class="n">occ_events</span><span class="o">.</span><span class="n">make_canonical_prim_periodic_occevents</span><span class="p">(</span>
    <span class="n">system</span><span class="p">,</span> <span class="n">cluster_specs</span><span class="p">,</span> <span class="n">occevent_counter_params</span><span class="p">,</span> <span class="n">custom_occevents</span><span class="p">)</span>

<span class="c1"># Print enumerated events for inspection</span>
<span class="n">print_event</span> <span class="o">=</span> <span class="n">occ_events</span><span class="o">.</span><span class="n">OccEventPrinter</span><span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span>
                                         <span class="n">system</span><span class="o">=</span><span class="n">system</span><span class="p">,</span>
                                         <span class="n">coordinate_mode</span><span class="o">=</span><span class="s1">&#39;cart&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">canonical_occevents</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">print_event</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">()</span>

<span class="c1"># pair.1: A-Va, B-Va</span>
<span class="c1"># pair.2: A-Va, B-Va</span>
<span class="c1"># triplet.1NN: A-A-Va, B-B-Va, A-A-A, B-B-B, A-B-Va, A-A-B, B-B-A</span>
<span class="c1"># triplet.2NN: A-A-Va x2, B-B-Va x2, A-A-A x1, B-B-B x1, A-B-Va x3, A-A-B x2, B-B-A x2,</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">canonical_occevents</span><span class="p">)</span> <span class="o">==</span> <span class="mi">24</span>
</pre></div>
</div>
<p>The example prints the following description of the enumerated events, using <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEventPrinter.html#libcasm.occ_events.OccEventPrinter" title="libcasm.occ_events.OccEventPrinter"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEventPrinter</span></code></a>, with site locations printed using Cartesian coordinates:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>
<span class="n">Site</span> <span class="n">Occupation</span><span class="p">:</span>
<span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]:</span>  <span class="mi">1</span> <span class="o">==</span> <span class="n">B</span>  <span class="o">-&gt;</span>  <span class="mi">2</span> <span class="o">==</span> <span class="n">Va</span>
<span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">]:</span>  <span class="mi">2</span> <span class="o">==</span> <span class="n">Va</span>  <span class="o">-&gt;</span>  <span class="mi">1</span> <span class="o">==</span> <span class="n">B</span>
<span class="n">Trajectories</span><span class="p">:</span>
<span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">B</span>  <span class="o">-&gt;</span>  <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">],</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">B</span>
<span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">],</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">Va</span>  <span class="o">-&gt;</span>  <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">Va</span>

<span class="mi">1</span>
<span class="n">Site</span> <span class="n">Occupation</span><span class="p">:</span>
<span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]:</span>  <span class="mi">1</span> <span class="o">==</span> <span class="n">B</span>  <span class="o">-&gt;</span>  <span class="mi">2</span> <span class="o">==</span> <span class="n">Va</span>
<span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.82842712474619</span><span class="p">]:</span>  <span class="mi">2</span> <span class="o">==</span> <span class="n">Va</span>  <span class="o">-&gt;</span>  <span class="mi">1</span> <span class="o">==</span> <span class="n">B</span>
<span class="n">Trajectories</span><span class="p">:</span>
<span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">B</span>  <span class="o">-&gt;</span>  <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.82842712474619</span><span class="p">],</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">B</span>
<span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.82842712474619</span><span class="p">],</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">Va</span>  <span class="o">-&gt;</span>  <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">Va</span>
<span class="o">...</span>

<span class="mi">22</span>
<span class="n">Site</span> <span class="n">Occupation</span><span class="p">:</span>
    <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]:</span>  <span class="mi">0</span> <span class="o">==</span> <span class="n">A</span>  <span class="o">-&gt;</span>  <span class="mi">0</span> <span class="o">==</span> <span class="n">A</span>
    <span class="p">[</span><span class="o">-</span><span class="mf">1.414213562373095</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">]:</span>  <span class="mi">0</span> <span class="o">==</span> <span class="n">A</span>  <span class="o">-&gt;</span>  <span class="mi">0</span> <span class="o">==</span> <span class="n">A</span>
    <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">]:</span>  <span class="mi">0</span> <span class="o">==</span> <span class="n">A</span>  <span class="o">-&gt;</span>  <span class="mi">0</span> <span class="o">==</span> <span class="n">A</span>
<span class="n">Trajectories</span><span class="p">:</span>
    <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span>  <span class="o">-&gt;</span>  <span class="p">[[</span><span class="o">-</span><span class="mf">1.414213562373095</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">],</span> <span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span>
    <span class="p">[[</span><span class="o">-</span><span class="mf">1.414213562373095</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">],</span> <span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span>  <span class="o">-&gt;</span>  <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">],</span> <span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span>
    <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">],</span> <span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span>  <span class="o">-&gt;</span>  <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span>

<span class="mi">23</span>
<span class="n">Site</span> <span class="n">Occupation</span><span class="p">:</span>
    <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]:</span>  <span class="mi">0</span> <span class="o">==</span> <span class="n">A</span>  <span class="o">-&gt;</span>  <span class="mi">0</span> <span class="o">==</span> <span class="n">A</span>
    <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">]:</span>  <span class="mi">0</span> <span class="o">==</span> <span class="n">A</span>  <span class="o">-&gt;</span>  <span class="mi">0</span> <span class="o">==</span> <span class="n">A</span>
    <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.82842712474619</span><span class="p">]:</span>  <span class="mi">0</span> <span class="o">==</span> <span class="n">A</span>  <span class="o">-&gt;</span>  <span class="mi">0</span> <span class="o">==</span> <span class="n">A</span>
<span class="n">Trajectories</span><span class="p">:</span>
    <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span>  <span class="o">-&gt;</span>  <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">],</span> <span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span>
    <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">,</span> <span class="mf">1.414213562373095</span><span class="p">],</span> <span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span>  <span class="o">-&gt;</span>  <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.82842712474619</span><span class="p">],</span> <span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span>
    <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.82842712474619</span><span class="p">],</span> <span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span>  <span class="o">-&gt;</span>  <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span>
</pre></div>
</div>
</section>
<section id="save-load-occevent">
<h2>Save/load OccEvent<a class="headerlink" href="#save-load-occevent" title="Link to this heading">#</a></h2>
<p>A standard location to save an event for future use is in:</p>
<ul class="simple">
<li><p>&lt;CASM project directory&gt; / events / event.&lt;name_of_event&gt; / event.json</p></li>
</ul>
<p>The functions <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.save_occevent.html#libcasm.occ_events.save_occevent" title="libcasm.occ_events.save_occevent"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_occevent()</span></code></a> and <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.load_occevent.html#libcasm.occ_events.load_occevent" title="libcasm.occ_events.load_occevent"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_occevent()</span></code></a> methods can be used to save <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> to the standard location and later load them:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># root: pathlib.Path</span>
<span class="c1"># prototype_occ_event: prototype occ_events.OccEvent</span>

<span class="c1"># The OccSystem provides index conversions</span>
<span class="n">system</span> <span class="o">=</span> <span class="n">occ_events</span><span class="o">.</span><span class="n">OccSystem</span><span class="p">(</span><span class="n">xtal_prim</span><span class="p">)</span>

<span class="c1"># Save an OccEvent:</span>
<span class="n">occ_events</span><span class="o">.</span><span class="n">save_occevent</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;1NN_A_Va&quot;</span><span class="p">,</span> <span class="n">prototype_occ_event</span><span class="p">,</span> <span class="n">system</span><span class="p">)</span>

<span class="c1"># Load an OccEvent:</span>
<span class="n">loaded_occ_event</span> <span class="o">=</span> <span class="n">occ_events</span><span class="o">.</span><span class="n">load_occevent</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;1NN_A_Va&quot;</span><span class="p">,</span> <span class="n">system</span><span class="p">)</span>

<span class="k">assert</span> <span class="n">loaded_occ_event</span> <span class="o">==</span> <span class="n">prototype_occ_event</span>
</pre></div>
</div>
</section>
<section id="clusterspecs-for-local-cluster-orbits">
<h2>ClusterSpecs for local-cluster orbits<a class="headerlink" href="#clusterspecs-for-local-cluster-orbits" title="Link to this heading">#</a></h2>
<p>The subgroup of the prim factor group that leaves an <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> invariant is the generating group for local-cluster orbits and local basis functions for properties of that event.</p>
<p>The <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.clusterography.ClusterSpecs.html#libcasm.clusterography.ClusterSpecs" title="libcasm.clusterography.ClusterSpecs"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSpecs</span></code></a> class encapsulates all the parameters needed for constructing cluster orbits. A <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.clusterography.ClusterSpecs.html#libcasm.clusterography.ClusterSpecs" title="libcasm.clusterography.ClusterSpecs"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSpecs</span></code></a> object with the generating group set to the invariant group of an <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> can be constructed using <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.make_occevent_cluster_specs.html#libcasm.occ_events.make_occevent_cluster_specs" title="libcasm.occ_events.make_occevent_cluster_specs"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_occevent_cluster_specs()</span></code></a>:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When constructing a local cluster expansion basis set, the symmetry of the <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> is very often the same as the symmetry of the actual transformation pathway in the real material, but there are exceptions. The exceptions tend to be cases where multiple pathways exist through intermediate metastable states. In such cases, the user should take care to ensure the symmetry and multiplicity of the events is accurately reproduced by the chosen <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> and the generating group used to construct the local basis set.</p>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># xtal_prim: xtal.Prim</span>

<span class="c1"># Construct ClusterSpecs, with generating group equal to</span>
<span class="c1"># the invariant group of prototype_occ_event</span>
<span class="n">cluster_specs</span> <span class="o">=</span> <span class="n">occ_events</span><span class="o">.</span><span class="n">make_occevent_cluster_specs</span><span class="p">(</span>
    <span class="n">xtal_prim</span><span class="o">=</span><span class="n">xtal_prim</span><span class="p">,</span>
    <span class="n">phenomenal_occ_event</span><span class="o">=</span><span class="n">prototype_occ_event</span><span class="p">,</span>
    <span class="n">max_length</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
    <span class="n">cutoff_radius</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.01</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="local-cluster-orbits">
<h2>Local-cluster orbits<a class="headerlink" href="#local-cluster-orbits" title="Link to this heading">#</a></h2>
<p>Once the <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.clusterography.ClusterSpecs.html#libcasm.clusterography.ClusterSpecs" title="libcasm.clusterography.ClusterSpecs"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSpecs</span></code></a> instance is constructed, local-cluster orbits can be generated using <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.clusterography.ClusterSpecs.make_orbits.html#libcasm.clusterography.ClusterSpecs.make_orbits" title="libcasm.clusterography.ClusterSpecs.make_orbits"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_orbits()</span></code></a>:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Construct local cluster orbits</span>
<span class="n">local_cluster_orbits</span> <span class="o">=</span> <span class="n">cluster_specs</span><span class="o">.</span><span class="n">make_orbits</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="local-basis-sets">
<h2>Local basis sets<a class="headerlink" href="#local-basis-sets" title="Link to this heading">#</a></h2>
<p>The <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.clusterography.ClusterSpecs.html#libcasm.clusterography.ClusterSpecs" title="libcasm.clusterography.ClusterSpecs"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSpecs</span></code></a> instance can be output to JSON for use as input for constructing local basis sets using <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.clusterography.ClusterSpecs.to_dict.html#libcasm.clusterography.ClusterSpecs.to_dict" title="libcasm.clusterography.ClusterSpecs.to_dict"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_dict()</span></code></a>:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Output cluster specs JSON for local basis set construction</span>
<span class="n">cluster_specs_json</span> <span class="o">=</span> <span class="n">cluster_specs</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="occevent-invariant-group">
<h2>OccEvent invariant group<a class="headerlink" href="#occevent-invariant-group" title="Link to this heading">#</a></h2>
<p>The subgroup of the prim factor group that leaves an <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.OccEvent.html#libcasm.occ_events.OccEvent" title="libcasm.occ_events.OccEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OccEvent</span></code></a> invariant is the generating group for local basis functions of properties of that event. It can be constructed explicitly using <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.occ_events.make_occevent_group.html#libcasm.occ_events.make_occevent_group" title="libcasm.occ_events.make_occevent_group"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_occevent_group()</span></code></a>:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">libcasm.occ_events</span> <span class="k">as</span> <span class="nn">occ_events</span>
<span class="kn">import</span> <span class="nn">libcasm.sym_info</span> <span class="k">as</span> <span class="nn">sym_info</span>

<span class="c1"># xtal_prim: xtal.Prim</span>
<span class="c1"># occ_event: occ_events.OccEvent</span>

<span class="c1"># Note the use of sym_info.make_factor_group:</span>
<span class="n">prim_factor_group</span> <span class="o">=</span> <span class="n">sym_info</span><span class="o">.</span><span class="n">make_factor_group</span><span class="p">(</span><span class="n">xtal_prim</span><span class="p">)</span>
<span class="n">occevent_symgroup_rep</span> <span class="o">=</span> <span class="n">occ_events</span><span class="o">.</span><span class="n">make_occevent_symgroup_rep</span><span class="p">(</span>
    <span class="n">prim_factor_group</span><span class="o">.</span><span class="n">elements</span><span class="p">(),</span> <span class="n">xtal_prim</span><span class="p">)</span>

<span class="c1"># Construct the group which leaves the phenomenal OccEvent invariant</span>
<span class="n">invariant_group</span> <span class="o">=</span> <span class="n">occ_events</span><span class="o">.</span><span class="n">make_occevent_group</span><span class="p">(</span>
    <span class="n">occ_event</span><span class="o">=</span><span class="n">prototype_occ_event</span><span class="p">,</span>
    <span class="n">group</span><span class="o">=</span><span class="n">prim_factor_group</span><span class="p">,</span>
    <span class="n">lattice</span><span class="o">=</span><span class="n">xtal_prim</span><span class="o">.</span><span class="n">lattice</span><span class="p">(),</span>
    <span class="n">occevent_symgroup_rep</span><span class="o">=</span><span class="n">occevent_symgroup_rep</span><span class="p">)</span>
</pre></div>
</div>
<p>The objects <code class="docutils literal notranslate"><span class="pre">prim_factor_group</span></code> and <code class="docutils literal notranslate"><span class="pre">invariant_group</span></code> are instances of <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.sym_info.SymGroup.html#libcasm.sym_info.SymGroup" title="libcasm.sym_info.SymGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">SymGroup</span></code></a>, with the relationship that <code class="docutils literal notranslate"><span class="pre">invariant_group</span></code> is a subgroup of <code class="docutils literal notranslate"><span class="pre">prim_factor_group</span></code>, which is called the “head group”. The class <a class="reference internal" href="../../reference/libcasm/_autosummary/libcasm.sym_info.SymGroup.html#libcasm.sym_info.SymGroup" title="libcasm.sym_info.SymGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">SymGroup</span></code></a> provides more information than a simple <code class="docutils literal notranslate"><span class="pre">list[libcasm.xtal.SymOp]</span></code>, including the multiplication table and the head group indices of the subgroup operations.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="construct_occevent.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Occupation event basics</p>
      </div>
    </a>
    <a class="right-next"
       href="../../reference/libcasm/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Reference (libcasm-configuration)</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">

  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#construct-a-prototype-occevent">Construct a prototype OccEvent</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#enumerating-occevent">Enumerating OccEvent</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#save-load-occevent">Save/load OccEvent</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clusterspecs-for-local-cluster-orbits">ClusterSpecs for local-cluster orbits</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#local-cluster-orbits">Local-cluster orbits</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#local-basis-sets">Local basis sets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#occevent-invariant-group">OccEvent invariant group</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/usage/occ_events/construct_occevent_cluster_specs.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, CASM Developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>